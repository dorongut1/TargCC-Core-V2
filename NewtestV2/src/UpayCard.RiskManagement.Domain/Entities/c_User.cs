// <auto-generated>
//     This code was generated by TargCC.Core.Generators.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using System.Text.Json.Serialization;

namespace UpayCard.RiskManagement.Domain.Entities
{
    /// <summary>
    /// Entity class for c_User table.
    /// Generated: 2025-12-27 21:28:27
    /// </summary>
    [Table("c_User")]
    public partial class User
    {
        #region Backing Fields

        private string _entSecurityQuestion1ResponseEncrypted;
        private string _entSecurityQuestion2ResponseEncrypted;
        private string _entSecurityQuestion3ResponseEncrypted;
        private string _entPINEncrypted;
        #endregion

        #region Properties

        // Primary Key(s)
        /// <summary>
        /// Gets or sets the ID.
        /// </summary>
        [Column("ID")]
        [Key]
        public long ID { get; set; }

        // Regular Properties
        /// <summary>
        /// Gets or sets the TableName_c_User.
        /// </summary>
        [Column("TableName_c_User")]
        [Required]
        public bool TableName_c_User { get; set; }
        /// <summary>
        /// Gets or sets the UserName.
        /// </summary>
        [Column("UserName")]
        [MaxLength(50)]
        public string UserName { get; set; }
        /// <summary>
        /// Gets or sets the LastName.
        /// </summary>
        [Column("LastName")]
        [MaxLength(100)]
        public string LastName { get; set; }
        /// <summary>
        /// Gets or sets the FirstName.
        /// </summary>
        [Column("FirstName")]
        [MaxLength(100)]
        public string FirstName { get; set; }
        /// <summary>
        /// Calculated field (read-only).
        /// </summary>
        [Column("clc_FullName")]
        public string FullNameCalculated { get; internal set; }
        /// <summary>
        /// Gets or sets the NationalIDNo.
        /// </summary>
        [Column("NationalIDNo")]
        [MaxLength(100)]
        public string NationalIDNo { get; set; }
        /// <summary>
        /// Gets or sets the Address.
        /// </summary>
        [Column("Address")]
        [MaxLength(500)]
        public string Address { get; set; }
        /// <summary>
        /// Gets or sets the City.
        /// </summary>
        [Column("City")]
        [MaxLength(100)]
        public string City { get; set; }
        /// <summary>
        /// Gets or sets the ProvinceState.
        /// </summary>
        [Column("ProvinceState")]
        [MaxLength(100)]
        public string ProvinceState { get; set; }
        /// <summary>
        /// Gets or sets the PostalCode.
        /// </summary>
        [Column("PostalCode")]
        [MaxLength(100)]
        public string PostalCode { get; set; }
        /// <summary>
        /// Gets or sets the Country.
        /// </summary>
        [Column("Country")]
        [MaxLength(100)]
        public string Country { get; set; }
        /// <summary>
        /// Gets or sets the PhoneNumber.
        /// </summary>
        [Column("PhoneNumber")]
        [MaxLength(100)]
        public string PhoneNumber { get; set; }
        /// <summary>
        /// Gets or sets the Email.
        /// </summary>
        [Column("Email")]
        [MaxLength(100)]
        public string Email { get; set; }
        /// <summary>
        /// Separate update field.
        /// </summary>
        [Column("enoPassword")]
        public string enoPasswordSeparate { get; set; }
        /// <summary>
        /// Calculated field (read-only).
        /// </summary>
        [Column("DatePasswordChanged")]
        public DateTime? DatePasswordChangedCalculated { get; internal set; }
        /// <summary>
        /// Enum value for enmType_UserIdentityType.
        /// </summary>
        [Column("enmType_UserIdentityType")]
        public string enmType_UserIdentityType { get; set; }

        /// <summary>
        /// Enum representation of enmType_UserIdentityType.
        /// </summary>
        [NotMapped]
        public int enmType_UserIdentityTypeEnum { get; set; }
        /// <summary>
        /// Gets or sets the IDinType.
        /// </summary>
        [Column("IDinType")]
        public long? IDinType { get; set; }
        /// <summary>
        /// Gets or sets the RequiresComputerIdentification.
        /// </summary>
        [Column("RequiresComputerIdentification")]
        public bool? RequiresComputerIdentification { get; set; }
        /// <summary>
        /// Gets or sets the EnableSimultaneousLogins.
        /// </summary>
        [Column("EnableSimultaneousLogins")]
        public bool? EnableSimultaneousLogins { get; set; }
        /// <summary>
        /// Calculated field (read-only).
        /// </summary>
        [Column("clc_DateActivated")]
        public DateTime DateActivatedCalculated { get; internal set; }
        /// <summary>
        /// Gets or sets the IsDisabled.
        /// </summary>
        [Column("IsDisabled")]
        public bool? IsDisabled { get; set; }
        /// <summary>
        /// Gets or sets the ExpiryDate.
        /// </summary>
        [Column("ExpiryDate")]
        public DateTime? ExpiryDate { get; set; }
        /// <summary>
        /// Separate update field.
        /// </summary>
        [Column("Comments")]
        public string CommentsSeparate { get; set; }
        /// <summary>
        /// Calculated field (read-only).
        /// </summary>
        [Column("LastPasswords")]
        public string LastPasswordsCalculated { get; internal set; }
        /// <summary>
        /// Gets or sets the DeletedBy.
        /// </summary>
        [Column("DeletedBy")]
        [MaxLength(100)]
        public string DeletedBy { get; set; }
        /// <summary>
        /// Gets or sets the DeletedOn.
        /// </summary>
        [Column("DeletedOn")]
        public DateTime? DeletedOn { get; set; }
        /// <summary>
        /// Gets or sets the UpdatingLoginID.
        /// </summary>
        [Column("UpdatingLoginID")]
        public long? UpdatingLoginID { get; set; }
        /// <summary>
        /// Separate list field (NewLine delimited).
        /// </summary>
        [Column("spl_Applications")]
        public string Applications { get; set; }
        /// <summary>
        /// Enum value for enmLanguage.
        /// </summary>
        [Column("enmLanguage")]
        public string enmLanguage { get; set; }

        /// <summary>
        /// Enum representation of enmLanguage.
        /// </summary>
        [NotMapped]
        public int enmLanguageEnum { get; set; }
        /// <summary>
        /// Gets or sets the IsLockedOut.
        /// </summary>
        [Column("IsLockedOut")]
        public bool? IsLockedOut { get; set; }
        /// <summary>
        /// Gets or sets the RoleID.
        /// </summary>
        [Column("RoleID")]
        public long? RoleID { get; set; }
        /// <summary>
        /// Enum value for enmAuthenticationMethod.
        /// </summary>
        [Column("enmAuthenticationMethod")]
        public string enmAuthenticationMethod { get; set; }

        /// <summary>
        /// Enum representation of enmAuthenticationMethod.
        /// </summary>
        [NotMapped]
        public int enmAuthenticationMethodEnum { get; set; }
        /// <summary>
        /// Enum value for enmMessagingMode.
        /// </summary>
        [Column("enmMessagingMode")]
        public string enmMessagingMode { get; set; }

        /// <summary>
        /// Enum representation of enmMessagingMode.
        /// </summary>
        [NotMapped]
        public int enmMessagingModeEnum { get; set; }
        /// <summary>
        /// Separate update field.
        /// </summary>
        [Column("spt_LoggedInIP")]
        public string LoggedInIPSeparate { get; set; }
        /// <summary>
        /// Gets or sets the RequiresFixedIP.
        /// </summary>
        [Column("RequiresFixedIP")]
        public bool? RequiresFixedIP { get; set; }
        /// <summary>
        /// Hashed value (one-way encryption).
        /// This field is hashed by the application before saving.
        /// </summary>
        [Column("enoApprovalCode")]
        [JsonIgnore]
        public string enoApprovalCodeHashed { get; private set; }
        /// <summary>
        /// Gets or sets the ApprovalFunctionName.
        /// </summary>
        [Column("ApprovalFunctionName")]
        [MaxLength(200)]
        public string ApprovalFunctionName { get; set; }
        /// <summary>
        /// Gets or sets the ApprovalTime.
        /// </summary>
        [Column("ApprovalTime")]
        public DateTimeOffset? ApprovalTime { get; set; }
        /// <summary>
        /// Separate update field.
        /// </summary>
        [Column("spt_LastSuccessfulLogin")]
        public DateTimeOffset? LastSuccessfulLoginSeparate { get; set; }
        /// <summary>
        /// Gets or sets the PasswordNeverExpires.
        /// </summary>
        [Column("PasswordNeverExpires")]
        public bool? PasswordNeverExpires { get; set; }
        /// <summary>
        /// Lookup value for lkpSecurityQuestion1_SecurityQuestion.
        /// </summary>
        [Column("lkpSecurityQuestion1_SecurityQuestion")]
        public string lkpSecurityQuestion1_SecurityQuestion { get; set; }

        /// <summary>
        /// Display text for lkpSecurityQuestion1_SecurityQuestion (from lookup table).
        /// </summary>
        [NotMapped]
        public string lkpSecurityQuestion1_SecurityQuestionText { get; set; }
        /// <summary>
        /// Encrypted value (two-way encryption).
        /// Automatically encrypted/decrypted by the application.
        /// </summary>
        [Column("entSecurityQuestion1Response")]
        [JsonIgnore]
        public string entSecurityQuestion1Response
        {
            get => DecryptValue(_entSecurityQuestion1ResponseEncrypted);
            set => _entSecurityQuestion1ResponseEncrypted = EncryptValue(value);
        }
        /// <summary>
        /// Lookup value for lkpSecurityQuestion2_SecurityQuestion.
        /// </summary>
        [Column("lkpSecurityQuestion2_SecurityQuestion")]
        public string lkpSecurityQuestion2_SecurityQuestion { get; set; }

        /// <summary>
        /// Display text for lkpSecurityQuestion2_SecurityQuestion (from lookup table).
        /// </summary>
        [NotMapped]
        public string lkpSecurityQuestion2_SecurityQuestionText { get; set; }
        /// <summary>
        /// Encrypted value (two-way encryption).
        /// Automatically encrypted/decrypted by the application.
        /// </summary>
        [Column("entSecurityQuestion2Response")]
        [JsonIgnore]
        public string entSecurityQuestion2Response
        {
            get => DecryptValue(_entSecurityQuestion2ResponseEncrypted);
            set => _entSecurityQuestion2ResponseEncrypted = EncryptValue(value);
        }
        /// <summary>
        /// Lookup value for lkpSecurityQuestion3_SecurityQuestion.
        /// </summary>
        [Column("lkpSecurityQuestion3_SecurityQuestion")]
        public string lkpSecurityQuestion3_SecurityQuestion { get; set; }

        /// <summary>
        /// Display text for lkpSecurityQuestion3_SecurityQuestion (from lookup table).
        /// </summary>
        [NotMapped]
        public string lkpSecurityQuestion3_SecurityQuestionText { get; set; }
        /// <summary>
        /// Encrypted value (two-way encryption).
        /// Automatically encrypted/decrypted by the application.
        /// </summary>
        [Column("entSecurityQuestion3Response")]
        [JsonIgnore]
        public string entSecurityQuestion3Response
        {
            get => DecryptValue(_entSecurityQuestion3ResponseEncrypted);
            set => _entSecurityQuestion3ResponseEncrypted = EncryptValue(value);
        }
        /// <summary>
        /// Encrypted value (two-way encryption).
        /// Automatically encrypted/decrypted by the application.
        /// </summary>
        [Column("entPIN")]
        [JsonIgnore]
        public string entPIN
        {
            get => DecryptValue(_entPINEncrypted);
            set => _entPINEncrypted = EncryptValue(value);
        }

        // Audit Properties
        /// <summary>
        /// Gets or sets the AddedBy.
        /// </summary>
        [Column("AddedBy")]
        [MaxLength(100)]
        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]
        public string AddedBy { get; private set; }
        /// <summary>
        /// Gets or sets the AddedOn.
        /// </summary>
        [Column("AddedOn")]
        [Required]
        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]
        public DateTime AddedOn { get; private set; } = DateTime.Now;
        /// <summary>
        /// Gets or sets the ChangedBy.
        /// </summary>
        [Column("ChangedBy")]
        [MaxLength(100)]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public string ChangedBy { get; private set; }
        /// <summary>
        /// Gets or sets the ChangedOn.
        /// </summary>
        [Column("ChangedOn")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public DateTime? ChangedOn { get; private set; } = DateTime.Now;

        #endregion

        #region Constructors

        /// <summary>
        /// Initializes a new instance of the <see cref="User"/> class.
        /// </summary>
        public User()
        {
            this.AddedOn = DateTime.Now;
        }

        #endregion

        #region Methods

        /// <summary>
        /// Returns a string representation of this User.
        /// </summary>
        public override string ToString()
        {
            return $"User #{ID}: {Email}";
        }

        /// <summary>
        /// Creates a shallow copy of this User.
        /// </summary>
        public User Clone()
        {
            return new User
            {
                TableName_c_User = this.TableName_c_User,
                UserName = this.UserName,
                LastName = this.LastName,
                FirstName = this.FirstName,
                NationalIDNo = this.NationalIDNo,
                Address = this.Address,
                City = this.City,
                ProvinceState = this.ProvinceState,
                PostalCode = this.PostalCode,
                Country = this.Country,
                PhoneNumber = this.PhoneNumber,
                Email = this.Email,
                enoPasswordSeparate = this.enoPasswordSeparate,
                enmType_UserIdentityType = this.enmType_UserIdentityType,
                IDinType = this.IDinType,
                RequiresComputerIdentification = this.RequiresComputerIdentification,
                EnableSimultaneousLogins = this.EnableSimultaneousLogins,
                IsDisabled = this.IsDisabled,
                ExpiryDate = this.ExpiryDate,
                CommentsSeparate = this.CommentsSeparate,
                DeletedBy = this.DeletedBy,
                DeletedOn = this.DeletedOn,
                UpdatingLoginID = this.UpdatingLoginID,
                Applications = this.Applications,
                enmLanguage = this.enmLanguage,
                IsLockedOut = this.IsLockedOut,
                RoleID = this.RoleID,
                enmAuthenticationMethod = this.enmAuthenticationMethod,
                enmMessagingMode = this.enmMessagingMode,
                LoggedInIPSeparate = this.LoggedInIPSeparate,
                RequiresFixedIP = this.RequiresFixedIP,
                enoApprovalCodeHashed = this.enoApprovalCodeHashed,
                ApprovalFunctionName = this.ApprovalFunctionName,
                ApprovalTime = this.ApprovalTime,
                LastSuccessfulLoginSeparate = this.LastSuccessfulLoginSeparate,
                PasswordNeverExpires = this.PasswordNeverExpires,
                lkpSecurityQuestion1_SecurityQuestion = this.lkpSecurityQuestion1_SecurityQuestion,
                entSecurityQuestion1Response = this.entSecurityQuestion1Response,
                lkpSecurityQuestion2_SecurityQuestion = this.lkpSecurityQuestion2_SecurityQuestion,
                entSecurityQuestion2Response = this.entSecurityQuestion2Response,
                lkpSecurityQuestion3_SecurityQuestion = this.lkpSecurityQuestion3_SecurityQuestion,
                entSecurityQuestion3Response = this.entSecurityQuestion3Response,
                entPIN = this.entPIN
            };
        }

        /// <summary>
        /// Determines whether the specified object is equal to this User.
        /// </summary>
        public override bool Equals(object obj)
        {
            if (obj is not User other)
                return false;

            if (this.ID > 0 && other.ID > 0)
                return this.ID == other.ID;

            return this.UserName == other.UserName;
        }

        /// <summary>
        /// Returns a hash code for this instance.
        /// </summary>
        public override int GetHashCode()
        {
            return this.ID > 0 ? this.ID.GetHashCode() : 0;
        }

        #endregion

        #region Helper Methods

        private string EncryptValue(string plainText) =>
            string.IsNullOrEmpty(plainText) ? null : $"[PleaseEncrypt]{plainText}";

        private string DecryptValue(string encrypted) =>
            string.IsNullOrEmpty(encrypted) ? null : $"[PleaseDecrypt]{encrypted}";

        /// <summary>
        /// Sets the password (will be hashed before saving).
        /// </summary>
        public void SetPassword(string plainTextPassword)
        {
            if (string.IsNullOrEmpty(plainTextPassword))
                throw new ArgumentNullException(nameof(plainTextPassword));

            this.enoApprovalCodeHashed = $"[PleaseHash]{plainTextPassword}";
        }

        #endregion
    }
}
