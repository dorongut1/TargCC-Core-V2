// <auto-generated>
//     This code was generated by TargCC UI Generator.
//     Generator: ReactApi
//     Table: c_Role
//     Generated: 2025-12-11 22:10:35
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

import { api } from './client';
import type {
  Role,
  CreateRoleRequest,
  UpdateRoleRequest,
  RoleFilters,
} from '../types/Role.types';
import type { Permission } from '../types/Permission.types';
import type { User } from '../types/User.types';

/**
 * API client for Role operations.
 * Base URL: /Roles
 */
export const roleApi = {
  /**
   * Get Role by ID.
   */
  getById: async (id: number): Promise<Role> => {
    const response = await api.get<Role>(`/Roles/${id}`);
    return response.data;
  },


  /**
   * Get all Roles with optional filters.
   */
  getAll: async (filters?: RoleFilters): Promise<Role[]> => {
    // Use /filter endpoint when filters are provided
    const endpoint = filters && Object.keys(filters).length > 0 ? '/Roles/filter' : '/Roles';
    const response = await api.get<Role[]>(endpoint, {
      params: filters,
    });
    return response.data;
  },


  /**
   * Create new Role.
   */
  create: async (data: CreateRoleRequest): Promise<Role> => {
    const response = await api.post<Role>('/Roles', data);
    return response.data;
  },


  /**
   * Update existing Role.
   */
  update: async (id: number, data: UpdateRoleRequest): Promise<Role> => {
    const response = await api.put<Role>(`/Roles/${id}`, data);
    return response.data;
  },


  /**
   * Delete Role.
   */
  delete: async (id: number): Promise<void> => {
    await api.delete(`/Roles/${id}`);
  },


  /**
   * Get Role by Name.
   */
  getByName: async (name: string): Promise<Role> => {
    const response = await api.get<Role>(`/Roles/by-name/${encodeURIComponent(String(name))}`);
    return response.data;
  },


  /**
   * Get Role by BaseRoleID.
   */
  getByBaseRoleID: async (baseRoleID: number): Promise<Role[]> => {
    const response = await api.get<Role[]>(`/Roles/by-baseRoleID/${encodeURIComponent(String(baseRoleID))}`);
    return response.data;
  },


  /**
   * Get PERMISSIONS for this ROLE.
   */
  getPermissions: async (id: number, skip?: number, take?: number): Promise<Permission[]> => {
    const params = new URLSearchParams();
    if (skip !== undefined) params.append('skip', skip.toString());
    if (take !== undefined) params.append('take', take.toString());
    const queryString = params.toString() ? `?${params.toString()}` : '';
    const response = await api.get<Permission[]>(`/Roles/${id}/PERMISSIONS${queryString}`);
    return response.data;
  },


  /**
   * Get ROLES for this ROLE.
   */
  getRoles: async (id: number, skip?: number, take?: number): Promise<Role[]> => {
    const params = new URLSearchParams();
    if (skip !== undefined) params.append('skip', skip.toString());
    if (take !== undefined) params.append('take', take.toString());
    const queryString = params.toString() ? `?${params.toString()}` : '';
    const response = await api.get<Role[]>(`/Roles/${id}/ROLES${queryString}`);
    return response.data;
  },


  /**
   * Get USERS for this ROLE.
   */
  getUsers: async (id: number, skip?: number, take?: number): Promise<User[]> => {
    const params = new URLSearchParams();
    if (skip !== undefined) params.append('skip', skip.toString());
    if (take !== undefined) params.append('take', take.toString());
    const queryString = params.toString() ? `?${params.toString()}` : '';
    const response = await api.get<User[]>(`/Roles/${id}/USERS${queryString}`);
    return response.data;
  },


};
