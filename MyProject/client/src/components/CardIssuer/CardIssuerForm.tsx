// <auto-generated>
//     This code was generated by TargCC Component Generator.
//     Table: CardIssuer
//     Generated: 2025-12-16 18:22:27
// </auto-generated>

import React, { useEffect } from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import { useForm } from 'react-hook-form';
import { TextField, Button, Box, CircularProgress } from '@mui/material';
import { useCardIssuer, useCreateCardIssuer, useUpdateCardIssuer } from '../../hooks/useCardIssuer';
import type { CreateCardIssuerRequest, UpdateCardIssuerRequest } from '../../types/CardIssuer.types';


export const CardIssuerForm: React.FC = () => {
  const navigate = useNavigate();
  const { id } = useParams<{ id: string }>();
  const cardIssuerId = id && id !== 'new' ? Number(id) : undefined;
  const isEdit = !!cardIssuerId;

  const { data: existingCardIssuer, isPending: isLoadingEntity } = useCardIssuer(cardIssuerId || null);

  const {
    register,
    handleSubmit,
    reset,
    formState: { errors },
  } = useForm<CreateCardIssuerRequest>({
    defaultValues: {
    },
  });

  // Update form when data loads
  useEffect(() => {
    if (existingCardIssuer) {
      reset(existingCardIssuer);
    }
  }, [existingCardIssuer, reset]);

  const { mutate: createEntity, isPending: isCreating } = useCreateCardIssuer();
  const { mutate: updateEntity, isPending: isUpdating } = useUpdateCardIssuer();

  const isSubmitting = isCreating || isUpdating;

  const onSubmit = (data: CreateCardIssuerRequest) => {
    if (isEdit && cardIssuerId) {
      updateEntity(
        { id: cardIssuerId, data: data as UpdateCardIssuerRequest },
        { onSuccess: () => navigate('/cardIssuers') }
      );
    } else {
      createEntity(data, { onSuccess: () => navigate('/cardIssuers') });
    }
  };

  if (isEdit && isLoadingEntity) {
    return <CircularProgress />;
  }

  return (
    <Box component="form" onSubmit={handleSubmit(onSubmit)} sx={{ maxWidth: 600 }}>
      <TextField
        label="Name"
        type="text"
        fullWidth
        margin="normal"
        {...register('name', { required: 'Name is required', maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.name}
        helperText={errors.name?.message}
      />

      <TextField
        label="EntVisaAccountNumberILSAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('entVisaAccountNumberILSAtIssuer', {  })}
        error={!!errors.entVisaAccountNumberILSAtIssuer}
        helperText={errors.entVisaAccountNumberILSAtIssuer?.message}
      />

      <TextField
        label="EntVisaAccountNumberUSDAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('entVisaAccountNumberUSDAtIssuer', {  })}
        error={!!errors.entVisaAccountNumberUSDAtIssuer}
        helperText={errors.entVisaAccountNumberUSDAtIssuer?.message}
      />

      <TextField
        label="EntVisaAccountNumberEURAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('entVisaAccountNumberEURAtIssuer', {  })}
        error={!!errors.entVisaAccountNumberEURAtIssuer}
        helperText={errors.entVisaAccountNumberEURAtIssuer?.message}
      />

      <TextField
        label="VisaOrganizationCodeAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('visaOrganizationCodeAtIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.visaOrganizationCodeAtIssuer}
        helperText={errors.visaOrganizationCodeAtIssuer?.message}
      />

      <TextField
        label="EnmVisaAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer"
        fullWidth
        margin="normal"
        {...register('enmVisaAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmVisaAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer}
        helperText={errors.enmVisaAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer?.message}
      />

      <TextField
        label="EnmVisaAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer"
        fullWidth
        margin="normal"
        {...register('enmVisaAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmVisaAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer}
        helperText={errors.enmVisaAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer?.message}
      />

      <TextField
        label="EnmVisaAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer"
        fullWidth
        margin="normal"
        {...register('enmVisaAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmVisaAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer}
        helperText={errors.enmVisaAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer?.message}
      />

      <TextField
        label="ICPVisaBalanceAtIssuerILS"
        type="number"
        fullWidth
        margin="normal"
        {...register('iCPVisaBalanceAtIssuerILS', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.iCPVisaBalanceAtIssuerILS}
        helperText={errors.iCPVisaBalanceAtIssuerILS?.message}
      />

      <TextField
        label="ICPVisaBalanceAtIssuerILSUpdateTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('iCPVisaBalanceAtIssuerILSUpdateTime', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.iCPVisaBalanceAtIssuerILSUpdateTime}
        helperText={errors.iCPVisaBalanceAtIssuerILSUpdateTime?.message}
      />

      <TextField
        label="ICPVisaBalanceAtIssuerUSD"
        type="number"
        fullWidth
        margin="normal"
        {...register('iCPVisaBalanceAtIssuerUSD', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.iCPVisaBalanceAtIssuerUSD}
        helperText={errors.iCPVisaBalanceAtIssuerUSD?.message}
      />

      <TextField
        label="ICPVisaBalanceAtIssuerUSDUpdateTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('iCPVisaBalanceAtIssuerUSDUpdateTime', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.iCPVisaBalanceAtIssuerUSDUpdateTime}
        helperText={errors.iCPVisaBalanceAtIssuerUSDUpdateTime?.message}
      />

      <TextField
        label="ICPVisaBalanceAtIssuerEUR"
        type="number"
        fullWidth
        margin="normal"
        {...register('iCPVisaBalanceAtIssuerEUR', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.iCPVisaBalanceAtIssuerEUR}
        helperText={errors.iCPVisaBalanceAtIssuerEUR?.message}
      />

      <TextField
        label="ICPVisaBalanceAtIssuerEURUpdateTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('iCPVisaBalanceAtIssuerEURUpdateTime', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.iCPVisaBalanceAtIssuerEURUpdateTime}
        helperText={errors.iCPVisaBalanceAtIssuerEURUpdateTime?.message}
      />

      <TextField
        label="UpdatingLoginID"
        type="number"
        fullWidth
        margin="normal"
        {...register('updatingLoginID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.updatingLoginID}
        helperText={errors.updatingLoginID?.message}
      />

      <TextField
        label="SAPLeumiCardVisaAccountLoadUnloadViaBankILS"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPLeumiCardVisaAccountLoadUnloadViaBankILS', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPLeumiCardVisaAccountLoadUnloadViaBankILS}
        helperText={errors.sAPLeumiCardVisaAccountLoadUnloadViaBankILS?.message}
      />

      <TextField
        label="SAPLeumiCardVisaAccountLoadUnloadViaBankUSD"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPLeumiCardVisaAccountLoadUnloadViaBankUSD', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPLeumiCardVisaAccountLoadUnloadViaBankUSD}
        helperText={errors.sAPLeumiCardVisaAccountLoadUnloadViaBankUSD?.message}
      />

      <TextField
        label="SAPLeumiCardVisaAccountLoadUnloadViaBankEUR"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPLeumiCardVisaAccountLoadUnloadViaBankEUR', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPLeumiCardVisaAccountLoadUnloadViaBankEUR}
        helperText={errors.sAPLeumiCardVisaAccountLoadUnloadViaBankEUR?.message}
      />

      <TextField
        label="SAPICPAccountForDistributorLoadCommission"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForDistributorLoadCommission', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForDistributorLoadCommission}
        helperText={errors.sAPICPAccountForDistributorLoadCommission?.message}
      />

      <TextField
        label="SAPICPAccountForDistributorCardMonthlyCommission"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForDistributorCardMonthlyCommission', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForDistributorCardMonthlyCommission}
        helperText={errors.sAPICPAccountForDistributorCardMonthlyCommission?.message}
      />

      <TextField
        label="SAPICPAccountForLeumiCardOrderCardsFee"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForLeumiCardOrderCardsFee', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForLeumiCardOrderCardsFee}
        helperText={errors.sAPICPAccountForLeumiCardOrderCardsFee?.message}
      />

      <TextField
        label="SAPICPAccountForLeumiCardCardMonthlyFee"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForLeumiCardCardMonthlyFee', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForLeumiCardCardMonthlyFee}
        helperText={errors.sAPICPAccountForLeumiCardCardMonthlyFee?.message}
      />

      <TextField
        label="SAPICPAccountForLeumiCardLocalATMFee"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForLeumiCardLocalATMFee', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForLeumiCardLocalATMFee}
        helperText={errors.sAPICPAccountForLeumiCardLocalATMFee?.message}
      />

      <TextField
        label="SAPICPAccountForLeumiCardForeignATMFee"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForLeumiCardForeignATMFee', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForLeumiCardForeignATMFee}
        helperText={errors.sAPICPAccountForLeumiCardForeignATMFee?.message}
      />

      <TextField
        label="SAPICPAccountForLeumiCardConversionFee"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPICPAccountForLeumiCardConversionFee', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPICPAccountForLeumiCardConversionFee}
        helperText={errors.sAPICPAccountForLeumiCardConversionFee?.message}
      />

      <TextField
        label="MaximumCustomerLoadAmountIn6MonthsRunningILS"
        type="number"
        fullWidth
        margin="normal"
        {...register('maximumCustomerLoadAmountIn6MonthsRunningILS', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.maximumCustomerLoadAmountIn6MonthsRunningILS}
        helperText={errors.maximumCustomerLoadAmountIn6MonthsRunningILS?.message}
      />

      <TextField
        label="EntMastercardAccountNumberILSAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('entMastercardAccountNumberILSAtIssuer', {  })}
        error={!!errors.entMastercardAccountNumberILSAtIssuer}
        helperText={errors.entMastercardAccountNumberILSAtIssuer?.message}
      />

      <TextField
        label="EntMastercardAccountNumberUSDAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('entMastercardAccountNumberUSDAtIssuer', {  })}
        error={!!errors.entMastercardAccountNumberUSDAtIssuer}
        helperText={errors.entMastercardAccountNumberUSDAtIssuer?.message}
      />

      <TextField
        label="EntMastercardAccountNumberEURAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('entMastercardAccountNumberEURAtIssuer', {  })}
        error={!!errors.entMastercardAccountNumberEURAtIssuer}
        helperText={errors.entMastercardAccountNumberEURAtIssuer?.message}
      />

      <TextField
        label="MastercardOrganizationCodeAtIssuer"
        type="text"
        fullWidth
        margin="normal"
        {...register('mastercardOrganizationCodeAtIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.mastercardOrganizationCodeAtIssuer}
        helperText={errors.mastercardOrganizationCodeAtIssuer?.message}
      />

      <TextField
        label="EnmMastercardAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer"
        fullWidth
        margin="normal"
        {...register('enmMastercardAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmMastercardAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer}
        helperText={errors.enmMastercardAccountStatusAtCardIssuerILSAccountStatusAtCardIssuer?.message}
      />

      <TextField
        label="EnmMastercardAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer"
        fullWidth
        margin="normal"
        {...register('enmMastercardAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmMastercardAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer}
        helperText={errors.enmMastercardAccountStatusAtCardIssuerUSDAccountStatusAtCardIssuer?.message}
      />

      <TextField
        label="EnmMastercardAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer"
        fullWidth
        margin="normal"
        {...register('enmMastercardAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmMastercardAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer}
        helperText={errors.enmMastercardAccountStatusAtCardIssuerEURAccountStatusAtCardIssuer?.message}
      />

      <TextField
        label="ICPMastercardBalanceAtIssuerILS"
        type="number"
        fullWidth
        margin="normal"
        {...register('iCPMastercardBalanceAtIssuerILS', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.iCPMastercardBalanceAtIssuerILS}
        helperText={errors.iCPMastercardBalanceAtIssuerILS?.message}
      />

      <TextField
        label="ICPMastercardBalanceAtIssuerILSUpdateTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('iCPMastercardBalanceAtIssuerILSUpdateTime', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.iCPMastercardBalanceAtIssuerILSUpdateTime}
        helperText={errors.iCPMastercardBalanceAtIssuerILSUpdateTime?.message}
      />

      <TextField
        label="ICPMastercardBalanceAtIssuerUSD"
        type="number"
        fullWidth
        margin="normal"
        {...register('iCPMastercardBalanceAtIssuerUSD', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.iCPMastercardBalanceAtIssuerUSD}
        helperText={errors.iCPMastercardBalanceAtIssuerUSD?.message}
      />

      <TextField
        label="ICPMastercardBalanceAtIssuerUSDUpdateTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('iCPMastercardBalanceAtIssuerUSDUpdateTime', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.iCPMastercardBalanceAtIssuerUSDUpdateTime}
        helperText={errors.iCPMastercardBalanceAtIssuerUSDUpdateTime?.message}
      />

      <TextField
        label="ICPMastercardBalanceAtIssuerEUR"
        type="number"
        fullWidth
        margin="normal"
        {...register('iCPMastercardBalanceAtIssuerEUR', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.iCPMastercardBalanceAtIssuerEUR}
        helperText={errors.iCPMastercardBalanceAtIssuerEUR?.message}
      />

      <TextField
        label="ICPMastercardBalanceAtIssuerEURUpdateTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('iCPMastercardBalanceAtIssuerEURUpdateTime', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.iCPMastercardBalanceAtIssuerEURUpdateTime}
        helperText={errors.iCPMastercardBalanceAtIssuerEURUpdateTime?.message}
      />

      <TextField
        label="SAPLeumiCardMCAccountLoadUnloadViaBankILS"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPLeumiCardMCAccountLoadUnloadViaBankILS', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPLeumiCardMCAccountLoadUnloadViaBankILS}
        helperText={errors.sAPLeumiCardMCAccountLoadUnloadViaBankILS?.message}
      />

      <TextField
        label="SAPLeumiCardMCAccountLoadUnloadViaBankUSD"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPLeumiCardMCAccountLoadUnloadViaBankUSD', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPLeumiCardMCAccountLoadUnloadViaBankUSD}
        helperText={errors.sAPLeumiCardMCAccountLoadUnloadViaBankUSD?.message}
      />

      <TextField
        label="SAPLeumiCardMCAccountLoadUnloadViaBankEUR"
        type="text"
        fullWidth
        margin="normal"
        {...register('sAPLeumiCardMCAccountLoadUnloadViaBankEUR', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.sAPLeumiCardMCAccountLoadUnloadViaBankEUR}
        helperText={errors.sAPLeumiCardMCAccountLoadUnloadViaBankEUR?.message}
      />



      <Box sx={{ mt: 2, display: 'flex', gap: 2 }}>
        <Button type="submit" variant="contained" disabled={isSubmitting}>
          {isEdit ? 'Update' : 'Create'}
        </Button>
        <Button variant="outlined" onClick={() => navigate('/cardIssuers')}>
          Cancel
        </Button>
      </Box>
    </Box>
  );
};

