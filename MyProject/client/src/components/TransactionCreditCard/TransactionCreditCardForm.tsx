// <auto-generated>
//     This code was generated by TargCC Component Generator.
//     Table: TransactionCreditCard
//     Generated: 2025-12-15 22:55:59
// </auto-generated>

import React, { useEffect } from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import { useForm } from 'react-hook-form';
import { TextField, Button, Box, CircularProgress, Checkbox, FormControlLabel } from '@mui/material';
import { useTransactionCreditCard, useCreateTransactionCreditCard, useUpdateTransactionCreditCard } from '../../hooks/useTransactionCreditCard';
import type { CreateTransactionCreditCardRequest, UpdateTransactionCreditCardRequest } from '../../types/TransactionCreditCard.types';


export const TransactionCreditCardForm: React.FC = () => {
  const navigate = useNavigate();
  const { id } = useParams<{ id: string }>();
  const transactionCreditCardId = id && id !== 'new' ? Number(id) : undefined;
  const isEdit = !!transactionCreditCardId;

  const { data: existingTransactionCreditCard, isPending: isLoadingEntity } = useTransactionCreditCard(transactionCreditCardId || null);

  const {
    register,
    handleSubmit,
    reset,
    formState: { errors },
  } = useForm<CreateTransactionCreditCardRequest>({
    defaultValues: {
    },
  });

  // Update form when data loads
  useEffect(() => {
    if (existingTransactionCreditCard) {
      reset(existingTransactionCreditCard);
    }
  }, [existingTransactionCreditCard, reset]);

  const { mutate: createEntity, isPending: isCreating } = useCreateTransactionCreditCard();
  const { mutate: updateEntity, isPending: isUpdating } = useUpdateTransactionCreditCard();

  const isSubmitting = isCreating || isUpdating;

  const onSubmit = (data: CreateTransactionCreditCardRequest) => {
    if (isEdit && transactionCreditCardId) {
      updateEntity(
        { id: transactionCreditCardId, data: data as UpdateTransactionCreditCardRequest },
        { onSuccess: () => navigate('/transactionCreditCards') }
      );
    } else {
      createEntity(data, { onSuccess: () => navigate('/transactionCreditCards') });
    }
  };

  if (isEdit && isLoadingEntity) {
    return <CircularProgress />;
  }

  return (
    <Box component="form" onSubmit={handleSubmit(onSubmit)} sx={{ maxWidth: 600 }}>
      <FormControlLabel
        control={<Checkbox {...register('tableNameTransactionCreditCard')} />}
        label="TableNameTransactionCreditCard"
      />

      <TextField
        label="UniqueIdentifier"
        type="text"
        fullWidth
        margin="normal"
        {...register('uniqueIdentifier', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.uniqueIdentifier}
        helperText={errors.uniqueIdentifier?.message}
      />

      <TextField
        label="WhenInitialized"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('whenInitialized', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.whenInitialized}
        helperText={errors.whenInitialized?.message}
      />

      <TextField
        label="WhenValidated"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('whenValidated', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.whenValidated}
        helperText={errors.whenValidated?.message}
      />

      <TextField
        label="CustomerCreditCardID"
        type="number"
        fullWidth
        margin="normal"
        {...register('customerCreditCardID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.customerCreditCardID}
        helperText={errors.customerCreditCardID?.message}
      />

      <TextField
        label="CustomerID"
        type="number"
        fullWidth
        margin="normal"
        {...register('customerID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.customerID}
        helperText={errors.customerID?.message}
      />

      <TextField
        label="NumberOfPayments"
        type="number"
        fullWidth
        margin="normal"
        {...register('numberOfPayments', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.numberOfPayments}
        helperText={errors.numberOfPayments?.message}
      />

      <TextField
        label="FirstPaymentAmount"
        type="number"
        fullWidth
        margin="normal"
        {...register('firstPaymentAmount', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.firstPaymentAmount}
        helperText={errors.firstPaymentAmount?.message}
      />

      <TextField
        label="RemainingPaymentsAmount"
        type="number"
        fullWidth
        margin="normal"
        {...register('remainingPaymentsAmount', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.remainingPaymentsAmount}
        helperText={errors.remainingPaymentsAmount?.message}
      />

      <TextField
        label="TotalPaymentAmount"
        type="number"
        fullWidth
        margin="normal"
        {...register('totalPaymentAmount', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.totalPaymentAmount}
        helperText={errors.totalPaymentAmount?.message}
      />

      <TextField
        label="CreditCardFee"
        type="number"
        fullWidth
        margin="normal"
        {...register('creditCardFee', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.creditCardFee}
        helperText={errors.creditCardFee?.message}
      />

      <TextField
        label="Interest"
        type="number"
        fullWidth
        margin="normal"
        {...register('interest', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.interest}
        helperText={errors.interest?.message}
      />

      <TextField
        label="EntCardHolderTZ"
        type="text"
        fullWidth
        margin="normal"
        {...register('entCardHolderTZ', {  })}
        error={!!errors.entCardHolderTZ}
        helperText={errors.entCardHolderTZ?.message}
      />

      <TextField
        label="CardHolderName"
        type="text"
        fullWidth
        margin="normal"
        {...register('cardHolderName', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.cardHolderName}
        helperText={errors.cardHolderName?.message}
      />

      <TextField
        label="CardLast4Numbers"
        type="text"
        fullWidth
        margin="normal"
        {...register('cardLast4Numbers', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.cardLast4Numbers}
        helperText={errors.cardLast4Numbers?.message}
      />

      <TextField
        label="CardExpiry"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('cardExpiry', { maxLength: { value: 3, message: 'Maximum length is 3' } })}
        error={!!errors.cardExpiry}
        helperText={errors.cardExpiry?.message}
      />

      <TextField
        label="ExecutionTimeSec"
        type="number"
        fullWidth
        margin="normal"
        {...register('executionTimeSec', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.executionTimeSec}
        helperText={errors.executionTimeSec?.message}
      />

      <TextField
        label="CGResult"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGResult', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.cGResult}
        helperText={errors.cGResult?.message}
      />

      <TextField
        label="CGUserMessage"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGUserMessage', { maxLength: { value: 200, message: 'Maximum length is 200' } })}
        error={!!errors.cGUserMessage}
        helperText={errors.cGUserMessage?.message}
      />

      <TextField
        label="CGAdditionalInfo"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGAdditionalInfo', { maxLength: { value: 8000, message: 'Maximum length is 8000' } })}
        error={!!errors.cGAdditionalInfo}
        helperText={errors.cGAdditionalInfo?.message}
      />

      <TextField
        label="TerminalNumber"
        type="text"
        fullWidth
        margin="normal"
        {...register('terminalNumber', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.terminalNumber}
        helperText={errors.terminalNumber?.message}
      />

      <TextField
        label="LkpClearingHouse"
        type="number"
        fullWidth
        margin="normal"
        {...register('lkpClearingHouse', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.lkpClearingHouse}
        helperText={errors.lkpClearingHouse?.message}
      />

      <TextField
        label="LkpCardBrand"
        type="number"
        fullWidth
        margin="normal"
        {...register('lkpCardBrand', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.lkpCardBrand}
        helperText={errors.lkpCardBrand?.message}
      />

      <TextField
        label="LkpCardIssuingCompany"
        type="number"
        fullWidth
        margin="normal"
        {...register('lkpCardIssuingCompany', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.lkpCardIssuingCompany}
        helperText={errors.lkpCardIssuingCompany?.message}
      />

      <FormControlLabel
        control={<Checkbox {...register('isCardForeign')} />}
        label="IsCardForeign"
      />

      <TextField
        label="ClearingHouseApprovalNo"
        type="text"
        fullWidth
        margin="normal"
        {...register('clearingHouseApprovalNo', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.clearingHouseApprovalNo}
        helperText={errors.clearingHouseApprovalNo?.message}
      />

      <TextField
        label="VoucherNo"
        type="text"
        fullWidth
        margin="normal"
        {...register('voucherNo', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.voucherNo}
        helperText={errors.voucherNo?.message}
      />

      <TextField
        label="GeneralData"
        type="text"
        fullWidth
        margin="normal"
        {...register('generalData', { maxLength: { value: 8000, message: 'Maximum length is 8000' } })}
        error={!!errors.generalData}
        helperText={errors.generalData?.message}
      />

      <TextField
        label="DeletedBy"
        type="text"
        fullWidth
        margin="normal"
        {...register('deletedBy', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.deletedBy}
        helperText={errors.deletedBy?.message}
      />

      <TextField
        label="DeletedOn"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('deletedOn', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.deletedOn}
        helperText={errors.deletedOn?.message}
      />

      <TextField
        label="UpdatingLoginID"
        type="number"
        fullWidth
        margin="normal"
        {...register('updatingLoginID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.updatingLoginID}
        helperText={errors.updatingLoginID?.message}
      />

      <TextField
        label="Status"
        type="text"
        fullWidth
        margin="normal"
        {...register('status', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.status}
        helperText={errors.status?.message}
      />

      <TextField
        label="CGGuid"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGGuid', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.cGGuid}
        helperText={errors.cGGuid?.message}
      />

      <TextField
        label="CGTranID"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGTranID', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.cGTranID}
        helperText={errors.cGTranID?.message}
      />

      <TextField
        label="PaymentSchedule"
        type="text"
        fullWidth
        margin="normal"
        {...register('paymentSchedule', { maxLength: { value: 1000, message: 'Maximum length is 1000' } })}
        error={!!errors.paymentSchedule}
        helperText={errors.paymentSchedule?.message}
      />

      <TextField
        label="EffectiveInterestRate"
        type="number"
        fullWidth
        margin="normal"
        {...register('effectiveInterestRate', { maxLength: { value: 9, message: 'Maximum length is 9' } })}
        error={!!errors.effectiveInterestRate}
        helperText={errors.effectiveInterestRate?.message}
      />

      <TextField
        label="NumberOfTries"
        type="number"
        fullWidth
        margin="normal"
        {...register('numberOfTries', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.numberOfTries}
        helperText={errors.numberOfTries?.message}
      />

      <TextField
        label="EnmService"
        type="text"
        fullWidth
        margin="normal"
        {...register('enmService', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.enmService}
        helperText={errors.enmService?.message}
      />

      <TextField
        label="ApprovedForWalletTransfer"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('approvedForWalletTransfer', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.approvedForWalletTransfer}
        helperText={errors.approvedForWalletTransfer?.message}
      />

      <TextField
        label="CardHolderCellphoneOrEmail"
        type="text"
        fullWidth
        margin="normal"
        {...register('cardHolderCellphoneOrEmail', { maxLength: { value: 50, message: 'Maximum length is 50' }, pattern: { value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i, message: 'Invalid email address' } })}
        error={!!errors.cardHolderCellphoneOrEmail}
        helperText={errors.cardHolderCellphoneOrEmail?.message}
      />

      <TextField
        label="CGAllInfo"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGAllInfo', {  })}
        error={!!errors.cGAllInfo}
        helperText={errors.cGAllInfo?.message}
      />

      <TextField
        label="Comment"
        fullWidth
        margin="normal"
        {...register('comment', {  })}
        error={!!errors.comment}
        helperText={errors.comment?.message}
      />

      <TextField
        label="InterpretationErrors"
        type="text"
        fullWidth
        margin="normal"
        {...register('interpretationErrors', {  })}
        error={!!errors.interpretationErrors}
        helperText={errors.interpretationErrors?.message}
      />

      <TextField
        label="RequestedTransactionID"
        type="number"
        fullWidth
        margin="normal"
        {...register('requestedTransactionID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.requestedTransactionID}
        helperText={errors.requestedTransactionID?.message}
      />

      <TextField
        label="CGMessage"
        type="text"
        fullWidth
        margin="normal"
        {...register('cGMessage', { maxLength: { value: 400, message: 'Maximum length is 400' } })}
        error={!!errors.cGMessage}
        helperText={errors.cGMessage?.message}
      />

      <TextField
        label="PaymentsTextToUser"
        type="text"
        fullWidth
        margin="normal"
        {...register('paymentsTextToUser', {  })}
        error={!!errors.paymentsTextToUser}
        helperText={errors.paymentsTextToUser?.message}
      />

      <TextField
        label="CardBin"
        type="text"
        fullWidth
        margin="normal"
        {...register('cardBin', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.cardBin}
        helperText={errors.cardBin?.message}
      />

      <FormControlLabel
        control={<Checkbox {...register('isSuccessful')} />}
        label="IsSuccessful"
      />

      <TextField
        label="LoggedAlertID"
        type="number"
        fullWidth
        margin="normal"
        {...register('loggedAlertID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.loggedAlertID}
        helperText={errors.loggedAlertID?.message}
      />

      <TextField
        label="CustomerWalletID"
        type="number"
        fullWidth
        margin="normal"
        {...register('customerWalletID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.customerWalletID}
        helperText={errors.customerWalletID?.message}
      />

      <TextField
        label="PaymentMethod"
        type="text"
        fullWidth
        margin="normal"
        {...register('paymentMethod', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.paymentMethod}
        helperText={errors.paymentMethod?.message}
      />

      <TextField
        label="ValidationSource"
        type="text"
        fullWidth
        margin="normal"
        {...register('validationSource', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.validationSource}
        helperText={errors.validationSource?.message}
      />

      <TextField
        label="NonCustomerID"
        type="number"
        fullWidth
        margin="normal"
        {...register('nonCustomerID', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.nonCustomerID}
        helperText={errors.nonCustomerID?.message}
      />



      <Box sx={{ mt: 2, display: 'flex', gap: 2 }}>
        <Button type="submit" variant="contained" disabled={isSubmitting}>
          {isEdit ? 'Update' : 'Create'}
        </Button>
        <Button variant="outlined" onClick={() => navigate('/transactionCreditCards')}>
          Cancel
        </Button>
      </Box>
    </Box>
  );
};

