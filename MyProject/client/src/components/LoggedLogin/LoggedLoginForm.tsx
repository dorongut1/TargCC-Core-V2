// <auto-generated>
//     This code was generated by TargCC Component Generator.
//     Table: c_LoggedLogin
//     Generated: 2025-12-17 08:03:49
// </auto-generated>

import React, { useEffect } from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import { useForm } from 'react-hook-form';
import { TextField, Button, Box, CircularProgress } from '@mui/material';
import { useLoggedLogin, useCreateLoggedLogin, useUpdateLoggedLogin } from '../../hooks/useLoggedLogin';
import type { CreateLoggedLoginRequest, UpdateLoggedLoginRequest } from '../../types/LoggedLogin.types';


export const LoggedLoginForm: React.FC = () => {
  const navigate = useNavigate();
  const { id } = useParams<{ id: string }>();
  const loggedLoginId = id && id !== 'new' ? Number(id) : undefined;
  const isEdit = !!loggedLoginId;

  const { data: existingLoggedLogin, isPending: isLoadingEntity } = useLoggedLogin(loggedLoginId || null);

  const {
    register,
    handleSubmit,
    reset,
    formState: { errors },
  } = useForm<CreateLoggedLoginRequest>({
    defaultValues: {
    },
  });

  // Update form when data loads
  useEffect(() => {
    if (existingLoggedLogin) {
      reset(existingLoggedLogin);
    }
  }, [existingLoggedLogin, reset]);

  const { mutate: createEntity, isPending: isCreating } = useCreateLoggedLogin();
  const { mutate: updateEntity, isPending: isUpdating } = useUpdateLoggedLogin();

  const isSubmitting = isCreating || isUpdating;

  const onSubmit = (data: CreateLoggedLoginRequest) => {
    if (isEdit && loggedLoginId) {
      updateEntity(
        { id: loggedLoginId, data: data as UpdateLoggedLoginRequest },
        { onSuccess: () => navigate('/loggedLogins') }
      );
    } else {
      createEntity(data, { onSuccess: () => navigate('/loggedLogins') });
    }
  };

  if (isEdit && isLoadingEntity) {
    return <CircularProgress />;
  }

  return (
    <Box component="form" onSubmit={handleSubmit(onSubmit)} sx={{ maxWidth: 600 }}>
      <TextField
        label="UserName"
        type="text"
        fullWidth
        margin="normal"
        {...register('userName', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.userName}
        helperText={errors.userName?.message}
      />

      <TextField
        label="UserFullName"
        type="text"
        fullWidth
        margin="normal"
        {...register('userFullName', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.userFullName}
        helperText={errors.userFullName?.message}
      />

      <TextField
        label="TimeLoggedIn"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('timeLoggedIn', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.timeLoggedIn}
        helperText={errors.timeLoggedIn?.message}
      />

      <TextField
        label="ApplicationName"
        type="text"
        fullWidth
        margin="normal"
        {...register('applicationName', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.applicationName}
        helperText={errors.applicationName?.message}
      />

      <TextField
        label="LkpUserIdentityType"
        type="text"
        fullWidth
        margin="normal"
        {...register('lkpUserIdentityType', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.lkpUserIdentityType}
        helperText={errors.lkpUserIdentityType?.message}
      />

      <TextField
        label="LkpUserIdentityTypeName"
        type="number"
        fullWidth
        margin="normal"
        {...register('lkpUserIdentityTypeName', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.lkpUserIdentityTypeName}
        helperText={errors.lkpUserIdentityTypeName?.message}
      />

      <TextField
        label="Roles"
        type="text"
        fullWidth
        margin="normal"
        {...register('roles', { maxLength: { value: 250, message: 'Maximum length is 250' } })}
        error={!!errors.roles}
        helperText={errors.roles?.message}
      />

      <TextField
        label="TimeLoggedOut"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('timeLoggedOut', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.timeLoggedOut}
        helperText={errors.timeLoggedOut?.message}
      />

      <TextField
        label="LoginFaultNumber"
        type="number"
        fullWidth
        margin="normal"
        {...register('loginFaultNumber', { maxLength: { value: 4, message: 'Maximum length is 4' } })}
        error={!!errors.loginFaultNumber}
        helperText={errors.loginFaultNumber?.message}
      />

      <TextField
        label="EnvironmentUserName"
        type="text"
        fullWidth
        margin="normal"
        {...register('environmentUserName', { maxLength: { value: 200, message: 'Maximum length is 200' } })}
        error={!!errors.environmentUserName}
        helperText={errors.environmentUserName?.message}
      />

      <TextField
        label="EnvironmentMachineName"
        type="text"
        fullWidth
        margin="normal"
        {...register('environmentMachineName', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.environmentMachineName}
        helperText={errors.environmentMachineName?.message}
      />

      <TextField
        label="EnvironmentUserDomainName"
        type="text"
        fullWidth
        margin="normal"
        {...register('environmentUserDomainName', { maxLength: { value: 20, message: 'Maximum length is 20' } })}
        error={!!errors.environmentUserDomainName}
        helperText={errors.environmentUserDomainName?.message}
      />

      <TextField
        label="DnsGetHostName"
        type="text"
        fullWidth
        margin="normal"
        {...register('dnsGetHostName', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.dnsGetHostName}
        helperText={errors.dnsGetHostName?.message}
      />

      <TextField
        label="AddressList"
        type="text"
        fullWidth
        margin="normal"
        {...register('addressList', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.addressList}
        helperText={errors.addressList?.message}
      />

      <TextField
        label="ComputerMACAddress"
        type="text"
        fullWidth
        margin="normal"
        {...register('computerMACAddress', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.computerMACAddress}
        helperText={errors.computerMACAddress?.message}
      />

      <TextField
        label="SystemDiskVolumeSerialNo"
        type="text"
        fullWidth
        margin="normal"
        {...register('systemDiskVolumeSerialNo', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.systemDiskVolumeSerialNo}
        helperText={errors.systemDiskVolumeSerialNo?.message}
      />

      <TextField
        label="LocalTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('localTime', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.localTime}
        helperText={errors.localTime?.message}
      />

      <TextField
        label="GmtTime"
        type="date"
        fullWidth
        margin="normal"
        InputLabelProps={{ shrink: true }}
        {...register('gmtTime', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.gmtTime}
        helperText={errors.gmtTime?.message}
      />

      <TextField
        label="AccessingComputerDetails"
        type="text"
        fullWidth
        margin="normal"
        {...register('accessingComputerDetails', { maxLength: { value: 250, message: 'Maximum length is 250' } })}
        error={!!errors.accessingComputerDetails}
        helperText={errors.accessingComputerDetails?.message}
      />

      <TextField
        label="UICulture"
        type="text"
        fullWidth
        margin="normal"
        {...register('uICulture', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.uICulture}
        helperText={errors.uICulture?.message}
      />

      <TextField
        label="TotalPhysicalMemoryKb"
        type="number"
        fullWidth
        margin="normal"
        {...register('totalPhysicalMemoryKb', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.totalPhysicalMemoryKb}
        helperText={errors.totalPhysicalMemoryKb?.message}
      />

      <TextField
        label="AvailablePhysicalMemoryKb"
        type="number"
        fullWidth
        margin="normal"
        {...register('availablePhysicalMemoryKb', { maxLength: { value: 8, message: 'Maximum length is 8' } })}
        error={!!errors.availablePhysicalMemoryKb}
        helperText={errors.availablePhysicalMemoryKb?.message}
      />

      <TextField
        label="ApplicationVersion"
        type="text"
        fullWidth
        margin="normal"
        {...register('applicationVersion', { maxLength: { value: 250, message: 'Maximum length is 250' } })}
        error={!!errors.applicationVersion}
        helperText={errors.applicationVersion?.message}
      />

      <TextField
        label="OriginatingIP"
        type="text"
        fullWidth
        margin="normal"
        {...register('originatingIP', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.originatingIP}
        helperText={errors.originatingIP?.message}
      />

      <TextField
        label="EnmLanguage"
        type="text"
        fullWidth
        margin="normal"
        {...register('enmLanguage', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.enmLanguage}
        helperText={errors.enmLanguage?.message}
      />

      <TextField
        label="HostingAssembly"
        type="text"
        fullWidth
        margin="normal"
        {...register('hostingAssembly', { maxLength: { value: 50, message: 'Maximum length is 50' } })}
        error={!!errors.hostingAssembly}
        helperText={errors.hostingAssembly?.message}
      />

      <TextField
        label="OriginatingCountry"
        type="text"
        fullWidth
        margin="normal"
        {...register('originatingCountry', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.originatingCountry}
        helperText={errors.originatingCountry?.message}
      />

      <TextField
        label="ClientReportedIP"
        type="text"
        fullWidth
        margin="normal"
        {...register('clientReportedIP', { maxLength: { value: 100, message: 'Maximum length is 100' } })}
        error={!!errors.clientReportedIP}
        helperText={errors.clientReportedIP?.message}
      />

      <TextField
        label="ClientReportedCountry"
        type="text"
        fullWidth
        margin="normal"
        {...register('clientReportedCountry', { maxLength: { value: 10, message: 'Maximum length is 10' } })}
        error={!!errors.clientReportedCountry}
        helperText={errors.clientReportedCountry?.message}
      />

      <TextField
        label="IPAdditionalDetails"
        type="text"
        fullWidth
        margin="normal"
        {...register('iPAdditionalDetails', { maxLength: { value: 250, message: 'Maximum length is 250' } })}
        error={!!errors.iPAdditionalDetails}
        helperText={errors.iPAdditionalDetails?.message}
      />



      <Box sx={{ mt: 2, display: 'flex', gap: 2 }}>
        <Button type="submit" variant="contained" disabled={isSubmitting}>
          {isEdit ? 'Update' : 'Create'}
        </Button>
        <Button variant="outlined" onClick={() => navigate('/loggedLogins')}>
          Cancel
        </Button>
      </Box>
    </Box>
  );
};

