// <auto-generated>
// This file is part of TargCC Core V2
// Generated by: TargCC.Core.Generators
// Generation Date: 2025-11-20
// </auto-generated>

using Microsoft.Extensions.Logging;
using TargCC.Core.Interfaces.Models;
//using TargCC.Core.Models;

namespace TargCC.Core.Generators.DI;

/// <summary>
/// Interface for generating Dependency Injection registration code.
/// Generates service registration extensions for Infrastructure layer.
/// </summary>
public interface IDIRegistrationGenerator
{
    /// <summary>
    /// Generates complete DI registration code for a database schema.
    /// Creates InfrastructureServiceRegistration class with AddInfrastructure method.
    /// </summary>
    /// <param name="schema">Database schema containing all tables and relationships.</param>
    /// <param name="cancellationToken">Cancellation token for async operations.</param>
    /// <returns>Generated C# code as string.</returns>
    /// <exception cref="ArgumentNullException">Thrown when schema is null.</exception>
    /// <example>
    /// <code>
    /// var generator = new DIRegistrationGenerator(logger);
    /// var code = await generator.GenerateAsync(schema);
    /// // Generates:
    /// // public static class InfrastructureServiceRegistration
    /// // {
    /// //     public static IServiceCollection AddInfrastructure(...)
    /// //     {
    /// //         services.AddDbContext&lt;ApplicationDbContext&gt;(...);
    /// //         services.AddScoped&lt;ICustomerRepository, CustomerRepository&gt;();
    /// //         ...
    /// //     }
    /// // }
    /// </code>
    /// </example>
    Task<string> GenerateAsync(DatabaseSchema schema, CancellationToken cancellationToken = default);
}
